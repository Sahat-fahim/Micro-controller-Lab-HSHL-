#include <stdio.h>
#include <stdlib.h>


#define idle 10
#define heating 20
#define cooling 30
#define alarm 40


int state = idle;
int temp;
int temperature;
int getTemp(int temp);
void control();
int testIndex = 0;
int testEventSequence[] = {34,25,45,30,20};



int main(void) {

    for(testIndex = 0; testIndex<5; testIndex++){
        control();
        testState();
    }
    return  EXIT_SUCCESS;

}



void control(){

    switch(state){

        case idle:
            if(getTemp(temp) < 25){
                state = heating;
            }
            else if(getTemp(temp) > 34){
                state = cooling;
            }
            break;


        case heating:
            if(getTemp(temp) >24){
                 state = idle;
            }
            break;


        case cooling:
            if(getTemp(temp) < 35){
                state = idle;
            }
            break;


        case alarm:
            //If heating or cooling fails alarm is on
            break;

    }
 }



int getTemp(int temp){

    int temp = getTempTest();
    return temp;

 }

 int getTempTest(){

    return testEventSequence[testIndex];

 }


 int testState(){

    if(testEventSequence[testIndex] == 0){
       if(state == idle){
        return 1;
       }
       else return 0;
    }

    else if(testEventSequence[testIndex] == 1){
        if(state == idle){
            return 1;
        }
        else return 0;
    }

    else if (testEventSequence[testIndex] == 2){
        if(state == cooling){
            return 1;
        }
        else return 0;
    }

    else if(testEventSequence[testIndex] == 3){
        if(state == idle){
            return 1;
        }
        else return 0;
    }

    else if(testEventSequence[testIndex] == 4){
        if(state == heating){
            return 1;
        }
        else return 0;
    }


 }



